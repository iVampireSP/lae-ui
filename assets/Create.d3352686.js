import{r,i as u,c as o,w as c,v as _,b as s,F as h,d as f,q as g,l as k,u as x,h as w,e as n,t as p,j as i}from"./index.8172a0e3.js";import{V as m,g as V,l as y}from"./github.9e0d0c4a.js";const C=s("h4",null,"\u60A8\u9047\u5230\u4E86\u4EC0\u4E48\u95EE\u9898\uFF1F",-1),j=s("div",{class:"mt-3"},null,-1),B={class:"cursor-pointer"},D=s("h5",null,"\u8BF7\u9009\u62E9\u60A8\u9047\u5230\u95EE\u9898\u7684\u670D\u52A1",-1),N={class:"list-group mt-3"},S=["onClick"],T={class:"d-flex w-100 justify-content-between"},E={class:"mb-1"},F={class:"mb-1"},H={key:0},I=s("span",{class:"text-success"},[s("i",{class:"bi bi-check-circle"}),i(" \xA0\u8FD0\u884C\u4E2D")],-1),L=[I],M={key:1},O=s("span",{class:"text-success"},[s("i",{class:"bi bi-clock-history"}),i(" \xA0\u7B49\u5F85\u4E2D")],-1),U=[O],$={key:2},q=s("span",{class:"text-danger"},[s("i",{class:"bi bi-x-circle"}),i(" \xA0\u5DF2\u6682\u505C ")],-1),W=[q],z={key:3},A=s("span",{class:"text-danger"},[s("i",{class:"bi bi-x-circle"}),i(" \xA0\u5DF2\u505C\u6B62 ")],-1),G=[A],J=s("h5",null,"\u55EF\uFF0C\u63A5\u4E0B\u6765\u8BF7\u7B80\u8981\u63CF\u8FF0\u4E00\u4E0B\u3002",-1),K={class:"form-floating mt-3"},P=s("label",{for:"floatingInputValue"},"\u7B80\u8981\u63CF\u8FF0\u4E00\u4E0B\u95EE\u9898",-1),Q={class:"mt-3"},ss={__name:"Create",setup(R){m.use(V,{Hljs:y});const e=r({title:null,content:"",host_id:null}),d=r([]);u.get("/hosts").then(l=>{d.value=l.data});function v(l){e.value.host_id=l}function b(){u.post("/work-orders",e.value).then(l=>{w.push({name:"work-orders.show",params:{id:l.data.id}})})}return(l,a)=>(n(),o(h,null,[C,j,c(s("div",B,[D,(n(!0),o(h,null,f(d.value,t=>(n(),o("div",N,[s("div",{class:"list-group-item list-group-item-action shadow-sm rounded",onClick:X=>v(t.id)},[s("div",T,[s("h5",E,p(t.name),1),s("small",null,p(new Date(t.created_at).toLocaleString()),1)]),s("p",F,[t.status=="running"?(n(),o("span",H,L)):t.status=="pending"?(n(),o("span",M,U)):t.status=="suspended"?(n(),o("span",$,W)):(n(),o("span",z,G))])],8,S)]))),256))],512),[[_,e.value.host_id==null]]),c(s("div",null,[J,s("form",K,[c(s("input",{type:"text",class:"form-control",id:"floatingInputValue","onUpdate:modelValue":a[0]||(a[0]=t=>e.value.title=t),placeholder:"\u7B80\u8981\u63CF\u8FF0\u4E00\u4E0B\u95EE\u9898"},null,512),[[g,e.value.title]]),P]),s("div",Q,[k(x(m),{modelValue:e.value.content,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.content=t),height:"500px",placeholder:"\u8BF7\u8BF4\u660E\u60A8\u9047\u5230\u7684\u95EE\u9898\u7684\u5177\u4F53\u60C5\u51B5\uFF0C\u5FC5\u8981\u65F6\u53EF\u4EE5\u544A\u77E5\u6211\u4EEC\u5BF9\u5E94\u670D\u52A1\u7684\u5BC6\u7801\u3002"},null,8,["modelValue"])]),s("button",{class:"mt-3 btn btn-outline-primary",onClick:a[2]||(a[2]=t=>b())}," \u63D0\u4EA4\u5DE5\u5355 ")],512),[[_,e.value.host_id]])],64))}};export{ss as default};
