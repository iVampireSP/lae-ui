import{r as f,i as y,s as k,o as D,a as x,c as i,w as m,v as _,b as e,F as w,d as z,e as o,t as g,f as S}from"./index.8172a0e3.js";import{u as W,i as B,a as E,b as L}from"./installSVGRenderer.f7eb42f9.js";const M={style:{width:"100%",height:"500px"},id:"chart-container"},C={class:"mb-2"},F=e("h4",null,"\u6B22\u8FCE\u4F7F\u7528 \u83B1\u4E91",-1),I=e("h4",{class:"mt-3"},"\u516C\u544A",-1),O={class:"list-group mt-3"},A={key:0},N=["href"],V={class:"d-flex w-100 justify-content-between"},j={class:"mb-1 text-success"},$={__name:"Index",setup(P){var p;W([E,L]);const r=f([]),l=f(""),c=f(!1);y.get("forum/pinned").then(a=>{r.value=a.data,l.value=r.value.base_url,setTimeout(()=>{c.value=!0},1e3)});function b(){return Math.floor(Math.random()*100)}let s=100,d="black",n=(p=k.state.user.name)!=null?p:"\u83B1\u4E91";function h(){window.innerWidth<768?(s=40,n.length>20&&(s=20),n.length*s>window.innerWidth&&(s=window.innerWidth/n.length)):n.length>20&&(s=50)}return window.matchMedia("(prefers-color-scheme: dark)").matches&&(d="white"),D(()=>{h();var a=document.getElementById("chart-container"),u=B(a,null,{renderer:"svg"}),t;let v=b()*10;t={graphic:{elements:[{type:"text",left:"center",top:"center",style:{text:n,fontSize:s,fontWeight:300,lineDash:[0,200],lineDashOffset:0,fill:"transparent",stroke:d,lineWidth:1},keyframeAnimation:{duration:1e3,loop:!1,keyframes:[{percent:.5,style:{fill:"transparent",lineDashOffset:v,lineDash:[v,0]}},{percent:1,style:{fill:d}}]}}]}},t&&u.setOption(t),window.addEventListener("resize",()=>{u.resize(),h()})}),x(()=>{window.removeEventListener("resize",()=>{myChart.resize(),h()})}),(a,u)=>(o(),i(w,null,[m(e("div",M,null,512),[[_,!c.value]]),m(e("div",C,[F,m(e("div",null,[I,(o(!0),i(w,null,z(r.value,t=>(o(),i("div",O,[t.attributes?(o(),i("span",A,[e("a",{class:"list-group-item list-group-item-action shadow-sm rounded",target:"_blank",href:l.value+"/d/"+t.attributes.slug},[e("div",V,[e("h5",j,g(t.attributes.title),1),e("small",null,g(new Date(t.attributes.lastPostedAt).toLocaleString()),1)])],8,N)])):S("",!0)]))),256))],512),[[_,l.value]])],512),[[_,c.value]])],64))}};export{$ as default};
